ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"PID352.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.rodata.Calib352.str1.4,"aMS",%progbits,1
  16              		.align	2
  17              	.LC0:
  18 0000 5B43414C 		.ascii	"[CALIBRATION] ...\000"
  18      49425241 
  18      54494F4E 
  18      5D202E2E 
  18      2E00
  19              		.global	__aeabi_lmul
  20              		.global	__aeabi_uldivmod
  21              		.global	__aeabi_ldivmod
  22 0012 0000     		.align	2
  23              	.LC4:
  24 0014 08080850 		.ascii	"\010\010\010PD3+PD4 SETPOINT: %i\012\000"
  24      44332B50 
  24      44342053 
  24      4554504F 
  24      494E543A 
  25 002d 000000   		.align	2
  26              	.LC6:
  27 0030 5B43414C 		.ascii	"[CALIBRATION] PD3 SLOPE: %i\012\000"
  27      49425241 
  27      54494F4E 
  27      5D205044 
  27      3320534C 
  28 004d 000000   		.align	2
  29              	.LC8:
  30 0050 5B43414C 		.ascii	"[CALIBRATION] PD4 SLOPE: %i\012\000"
  30      49425241 
  30      54494F4E 
  30      5D205044 
  30      3420534C 
  31 006d 000000   		.align	2
  32              	.LC10:
  33 0070 5B43414C 		.ascii	"[CALIBRATION] PS352 OFFSET: %i\012\000"
  33      49425241 
  33      54494F4E 
  33      5D205053 
  33      33353220 
  34              		.section	.text.Calib352,"ax",%progbits
  35              		.align	1
  36              		.global	Calib352
  37              		.arch armv6s-m
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 2


  38              		.syntax unified
  39              		.code	16
  40              		.thumb_func
  41              		.fpu softvfp
  43              	Calib352:
  44              	.LFB284:
  45              		.file 1 "Src/PID352.c"
   1:Src/PID352.c  **** #include "usart.h"
   2:Src/PID352.c  **** #include <stdio.h>
   3:Src/PID352.c  **** #include "state.h"
   4:Src/PID352.c  **** #include "usart_utils.h"
   5:Src/PID352.c  **** #include "ADC.h"
   6:Src/PID352.c  **** #include "spi.h"
   7:Src/PID352.c  **** #include "DAC.h"
   8:Src/PID352.c  **** #include "tim.h"
   9:Src/PID352.c  **** #include <stdlib.h>
  10:Src/PID352.c  **** #include "values.h"
  11:Src/PID352.c  **** 
  12:Src/PID352.c  **** extern state State;
  13:Src/PID352.c  **** 
  14:Src/PID352.c  **** //Determines optimal setpoints of Phase shifters, detectors slopes
  15:Src/PID352.c  **** void Calib352()
  16:Src/PID352.c  **** {
  46              		.loc 1 16 1 view -0
  47              		.cfi_startproc
  48              		@ args = 0, pretend = 0, frame = 144
  49              		@ frame_needed = 0, uses_anonymous_args = 0
  50 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  51              	.LCFI0:
  52              		.cfi_def_cfa_offset 20
  53              		.cfi_offset 4, -20
  54              		.cfi_offset 5, -16
  55              		.cfi_offset 6, -12
  56              		.cfi_offset 7, -8
  57              		.cfi_offset 14, -4
  58 0002 DE46     		mov	lr, fp
  59 0004 4746     		mov	r7, r8
  60 0006 80B5     		push	{r7, lr}
  61              	.LCFI1:
  62              		.cfi_def_cfa_offset 28
  63              		.cfi_offset 8, -28
  64              		.cfi_offset 11, -24
  65 0008 A5B0     		sub	sp, sp, #148
  66              	.LCFI2:
  67              		.cfi_def_cfa_offset 176
  68              	.LBB2:
  17:Src/PID352.c  ****     SERIAL_WRITE("[CALIBRATION] ...")
  69              		.loc 1 17 5 view .LVU1
  70 000a 0BAC     		add	r4, sp, #44
  71 000c 6022     		movs	r2, #96
  72 000e 0021     		movs	r1, #0
  73 0010 0CA8     		add	r0, sp, #48
  74 0012 FFF7FEFF 		bl	memset
  75              	.LVL0:
  76              		.loc 1 17 5 view .LVU2
  77 0016 8F4B     		ldr	r3, .L14
  78 0018 2200     		movs	r2, r4
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 3


  79 001a 23CB     		ldmia	r3!, {r0, r1, r5}
  80 001c 23C2     		stmia	r2!, {r0, r1, r5}
  81 001e 1968     		ldr	r1, [r3]
  82 0020 1160     		str	r1, [r2]
  83 0022 9B88     		ldrh	r3, [r3, #4]
  84 0024 9380     		strh	r3, [r2, #4]
  85              	.LVL1:
  86              		.loc 1 17 5 view .LVU3
  87 0026 FA23     		movs	r3, #250
  88 0028 9B00     		lsls	r3, r3, #2
  89 002a 1122     		movs	r2, #17
  90 002c 2100     		movs	r1, r4
  91 002e 8A48     		ldr	r0, .L14+4
  92 0030 FFF7FEFF 		bl	HAL_UART_Transmit
  93              	.LVL2:
  94              	.LBE2:
  18:Src/PID352.c  ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + 0);
  95              		.loc 1 18 5 view .LVU4
  96 0034 A020     		movs	r0, #160
  97 0036 4003     		lsls	r0, r0, #13
  98 0038 FFF7FEFF 		bl	DAC_cmd
  99              	.LVL3:
  19:Src/PID352.c  ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + 0x7fff);
 100              		.loc 1 19 5 view .LVU5
 101 003c 8748     		ldr	r0, .L14+8
 102 003e FFF7FEFF 		bl	DAC_cmd
 103              	.LVL4:
  20:Src/PID352.c  ****     State.PD3_PD4_MSE = 16200000000;
 104              		.loc 1 20 5 view .LVU6
 105              		.loc 1 20 23 is_stmt 0 view .LVU7
 106 0042 874B     		ldr	r3, .L14+12
 107 0044 A022     		movs	r2, #160
 108 0046 D200     		lsls	r2, r2, #3
 109 0048 9446     		mov	ip, r2
 110 004a 6344     		add	r3, r3, ip
 111 004c 8548     		ldr	r0, .L14+16
 112 004e 0321     		movs	r1, #3
 113 0050 1860     		str	r0, [r3]
 114 0052 5960     		str	r1, [r3, #4]
  21:Src/PID352.c  ****     int64_t prevPhase3 = 0;
 115              		.loc 1 21 5 is_stmt 1 view .LVU8
 116              	.LVL5:
  22:Src/PID352.c  ****     int64_t prevPhase4 = 0;
 117              		.loc 1 22 5 view .LVU9
  23:Src/PID352.c  ****     for (unsigned PS = 0; PS < 0xffff; PS += 0x0700)
 118              		.loc 1 23 5 view .LVU10
 119              	.LBB3:
 120              		.loc 1 23 10 view .LVU11
 121              		.loc 1 23 19 is_stmt 0 view .LVU12
 122 0054 0024     		movs	r4, #0
 123              	.LBE3:
  22:Src/PID352.c  ****     int64_t prevPhase4 = 0;
 124              		.loc 1 22 13 view .LVU13
 125 0056 0023     		movs	r3, #0
 126 0058 0793     		str	r3, [sp, #28]
 127 005a 9B46     		mov	fp, r3
  21:Src/PID352.c  ****     int64_t prevPhase3 = 0;
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 4


 128              		.loc 1 21 13 view .LVU14
 129 005c 0693     		str	r3, [sp, #24]
 130 005e 9846     		mov	r8, r3
 131              	.LBB7:
 132              		.loc 1 23 5 view .LVU15
 133 0060 1AE0     		b	.L2
 134              	.LVL6:
 135              	.L9:
 136              	.LBB4:
  24:Src/PID352.c  ****     {
  25:Src/PID352.c  ****         DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + PS);
  26:Src/PID352.c  ****         HAL_Delay(100);
  27:Src/PID352.c  ****         int64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0xf
  28:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
  29:Src/PID352.c  **** 
  30:Src/PID352.c  ****         int error3 = 90 - Phase3 / 1000;
  31:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
  32:Src/PID352.c  ****         int MSE352 = error3 * error3 + error4 * error4;
  33:Src/PID352.c  ****         // SERIAL_WRITE("PS: %u\n", PS);
  34:Src/PID352.c  ****         // SERIAL_WRITE("Phase3: %li\n", Phase1);
  35:Src/PID352.c  ****         // SERIAL_WRITE("Phase4: %li\n", Phase2);
  36:Src/PID352.c  ****         // SERIAL_WRITE("MSE: %i\n", MSE352);
  37:Src/PID352.c  ****         if (abs(MSE352) < abs(State.PD3_PD4_MSE))
  38:Src/PID352.c  ****         {
  39:Src/PID352.c  ****             State.PD3_PD4_Offset = PS;
  40:Src/PID352.c  ****             State.PD3_PD4_MSE = MSE352;
  41:Src/PID352.c  ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 137              		.loc 1 41 55 view .LVU16
 138 0062 0123     		movs	r3, #1
 139 0064 5B42     		rsbs	r3, r3, #0
 140 0066 8AE0     		b	.L4
 141              	.L12:
  42:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 142              		.loc 1 42 55 view .LVU17
 143 0068 0122     		movs	r2, #1
 144              	.L6:
 145              		.loc 1 42 29 discriminator 4 view .LVU18
 146 006a 7D49     		ldr	r1, .L14+12
 147              	.LVL7:
 148              		.loc 1 42 29 discriminator 4 view .LVU19
 149 006c 9C20     		movs	r0, #156
 150 006e C000     		lsls	r0, r0, #3
 151 0070 0A50     		str	r2, [r1, r0]
  43:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 152              		.loc 1 43 13 is_stmt 1 discriminator 4 view .LVU20
 153              		.loc 1 43 63 is_stmt 0 discriminator 4 view .LVU21
 154 0072 0198     		ldr	r0, [sp, #4]
 155 0074 4343     		muls	r3, r0
 156 0076 0298     		ldr	r0, [sp, #8]
 157 0078 4243     		muls	r2, r0
 158 007a 9B18     		adds	r3, r3, r2
 159              		.loc 1 43 36 discriminator 4 view .LVU22
 160 007c 9F22     		movs	r2, #159
 161 007e D200     		lsls	r2, r2, #3
 162 0080 8B50     		str	r3, [r1, r2]
 163              	.LVL8:
 164              	.L3:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 5


  44:Src/PID352.c  ****         }
  45:Src/PID352.c  ****         prevPhase3 = Phase3;
 165              		.loc 1 45 9 is_stmt 1 discriminator 2 view .LVU23
  46:Src/PID352.c  ****         prevPhase4 = Phase4;
 166              		.loc 1 46 9 discriminator 2 view .LVU24
 167              		.loc 1 46 9 is_stmt 0 discriminator 2 view .LVU25
 168              	.LBE4:
  23:Src/PID352.c  ****     {
 169              		.loc 1 23 40 is_stmt 1 discriminator 2 view .LVU26
  23:Src/PID352.c  ****     {
 170              		.loc 1 23 43 is_stmt 0 discriminator 2 view .LVU27
 171 0082 E023     		movs	r3, #224
 172 0084 DB00     		lsls	r3, r3, #3
 173 0086 9C46     		mov	ip, r3
 174 0088 6444     		add	r4, r4, ip
 175              	.LVL9:
 176              	.LBB5:
 177              		.loc 1 46 20 discriminator 2 view .LVU28
 178 008a 029B     		ldr	r3, [sp, #8]
 179 008c 0793     		str	r3, [sp, #28]
 180 008e B346     		mov	fp, r6
  45:Src/PID352.c  ****         prevPhase4 = Phase4;
 181              		.loc 1 45 20 discriminator 2 view .LVU29
 182 0090 019B     		ldr	r3, [sp, #4]
 183 0092 0693     		str	r3, [sp, #24]
 184 0094 039B     		ldr	r3, [sp, #12]
 185 0096 9846     		mov	r8, r3
 186              	.LVL10:
 187              	.L2:
  45:Src/PID352.c  ****         prevPhase4 = Phase4;
 188              		.loc 1 45 20 discriminator 2 view .LVU30
 189              	.LBE5:
  23:Src/PID352.c  ****     {
 190              		.loc 1 23 27 is_stmt 1 discriminator 1 view .LVU31
  23:Src/PID352.c  ****     {
 191              		.loc 1 23 5 is_stmt 0 discriminator 1 view .LVU32
 192 0098 734B     		ldr	r3, .L14+20
 193 009a 9C42     		cmp	r4, r3
 194 009c 00D9     		bls	.LCB154
 195 009e 7EE0     		b	.L13	@long jump
 196              	.LCB154:
 197              	.LBB6:
  25:Src/PID352.c  ****         HAL_Delay(100);
 198              		.loc 1 25 9 is_stmt 1 view .LVU33
  25:Src/PID352.c  ****         HAL_Delay(100);
 199              		.loc 1 25 46 is_stmt 0 view .LVU34
 200 00a0 A023     		movs	r3, #160
 201 00a2 5B03     		lsls	r3, r3, #13
 202 00a4 E018     		adds	r0, r4, r3
  25:Src/PID352.c  ****         HAL_Delay(100);
 203              		.loc 1 25 9 view .LVU35
 204 00a6 FFF7FEFF 		bl	DAC_cmd
 205              	.LVL11:
  26:Src/PID352.c  ****         int64_t Phase3 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD3_Phase_CH] * 1800000) / 0xf
 206              		.loc 1 26 9 is_stmt 1 view .LVU36
 207 00aa 6420     		movs	r0, #100
 208 00ac FFF7FEFF 		bl	HAL_Delay
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 6


 209              	.LVL12:
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 210              		.loc 1 27 9 view .LVU37
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 211              		.loc 1 27 65 is_stmt 0 view .LVU38
 212 00b0 6B4D     		ldr	r5, .L14+12
 213 00b2 8823     		movs	r3, #136
 214 00b4 E858     		ldr	r0, [r5, r3]
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 215              		.loc 1 27 84 view .LVU39
 216 00b6 6D4A     		ldr	r2, .L14+24
 217 00b8 0023     		movs	r3, #0
 218 00ba 0021     		movs	r1, #0
 219 00bc FFF7FEFF 		bl	__aeabi_lmul
 220              	.LVL13:
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 221              		.loc 1 27 95 view .LVU40
 222 00c0 6B4A     		ldr	r2, .L14+28
 223 00c2 0023     		movs	r3, #0
 224 00c4 FFF7FEFF 		bl	__aeabi_uldivmod
 225              	.LVL14:
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 226              		.loc 1 27 35 view .LVU41
 227 00c8 684E     		ldr	r6, .L14+24
 228 00ca 0027     		movs	r7, #0
 229 00cc 3200     		movs	r2, r6
 230 00ce 3B00     		movs	r3, r7
 231 00d0 121A     		subs	r2, r2, r0
 232 00d2 8B41     		sbcs	r3, r3, r1
 233 00d4 1000     		movs	r0, r2
 234 00d6 1900     		movs	r1, r3
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 235              		.loc 1 27 108 view .LVU42
 236 00d8 0A22     		movs	r2, #10
 237 00da 0023     		movs	r3, #0
 238 00dc FFF7FEFF 		bl	__aeabi_uldivmod
 239              	.LVL15:
  27:Src/PID352.c  ****         int64_t Phase4 = (1800000 - (((uint64_t)State.ADC_Values[ADC_PD4_Phase_CH] * 1800000) / 0xf
 240              		.loc 1 27 17 view .LVU43
 241 00e0 0190     		str	r0, [sp, #4]
 242 00e2 0890     		str	r0, [sp, #32]
 243 00e4 0391     		str	r1, [sp, #12]
 244 00e6 0491     		str	r1, [sp, #16]
 245              	.LVL16:
  28:Src/PID352.c  **** 
 246              		.loc 1 28 9 is_stmt 1 view .LVU44
  28:Src/PID352.c  **** 
 247              		.loc 1 28 84 is_stmt 0 view .LVU45
 248 00e8 3200     		movs	r2, r6
 249 00ea 3B00     		movs	r3, r7
 250 00ec A86D     		ldr	r0, [r5, #88]
 251              	.LVL17:
  28:Src/PID352.c  **** 
 252              		.loc 1 28 84 view .LVU46
 253 00ee 0021     		movs	r1, #0
 254              	.LVL18:
  28:Src/PID352.c  **** 
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 7


 255              		.loc 1 28 84 view .LVU47
 256 00f0 FFF7FEFF 		bl	__aeabi_lmul
 257              	.LVL19:
  28:Src/PID352.c  **** 
 258              		.loc 1 28 95 view .LVU48
 259 00f4 5E4A     		ldr	r2, .L14+28
 260 00f6 0023     		movs	r3, #0
 261 00f8 FFF7FEFF 		bl	__aeabi_uldivmod
 262              	.LVL20:
  28:Src/PID352.c  **** 
 263              		.loc 1 28 35 view .LVU49
 264 00fc 361A     		subs	r6, r6, r0
 265 00fe 8F41     		sbcs	r7, r7, r1
 266 0100 3000     		movs	r0, r6
 267 0102 3900     		movs	r1, r7
  28:Src/PID352.c  **** 
 268              		.loc 1 28 108 view .LVU50
 269 0104 0A22     		movs	r2, #10
 270 0106 0023     		movs	r3, #0
 271 0108 FFF7FEFF 		bl	__aeabi_uldivmod
 272              	.LVL21:
 273 010c 0E00     		movs	r6, r1
  28:Src/PID352.c  **** 
 274              		.loc 1 28 17 view .LVU51
 275 010e 0290     		str	r0, [sp, #8]
 276 0110 0990     		str	r0, [sp, #36]
 277 0112 0591     		str	r1, [sp, #20]
 278              	.LVL22:
  30:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
 279              		.loc 1 30 9 is_stmt 1 view .LVU52
  30:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
 280              		.loc 1 30 34 is_stmt 0 view .LVU53
 281 0114 574A     		ldr	r2, .L14+32
 282 0116 0123     		movs	r3, #1
 283 0118 5B42     		rsbs	r3, r3, #0
 284 011a 0198     		ldr	r0, [sp, #4]
 285              	.LVL23:
  30:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
 286              		.loc 1 30 34 view .LVU54
 287 011c 0399     		ldr	r1, [sp, #12]
 288              	.LVL24:
  30:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
 289              		.loc 1 30 34 view .LVU55
 290 011e FFF7FEFF 		bl	__aeabi_ldivmod
 291              	.LVL25:
  30:Src/PID352.c  ****         int error4 = 90 - Phase4 / 1000;
 292              		.loc 1 30 25 view .LVU56
 293 0122 0700     		movs	r7, r0
 294 0124 5A37     		adds	r7, r7, #90
 295              	.LVL26:
  31:Src/PID352.c  ****         int MSE352 = error3 * error3 + error4 * error4;
 296              		.loc 1 31 9 is_stmt 1 view .LVU57
  31:Src/PID352.c  ****         int MSE352 = error3 * error3 + error4 * error4;
 297              		.loc 1 31 34 is_stmt 0 view .LVU58
 298 0126 534A     		ldr	r2, .L14+32
 299 0128 0123     		movs	r3, #1
 300 012a 5B42     		rsbs	r3, r3, #0
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 8


 301 012c 0298     		ldr	r0, [sp, #8]
 302 012e 3100     		movs	r1, r6
 303 0130 FFF7FEFF 		bl	__aeabi_ldivmod
 304              	.LVL27:
  31:Src/PID352.c  ****         int MSE352 = error3 * error3 + error4 * error4;
 305              		.loc 1 31 25 view .LVU59
 306 0134 0200     		movs	r2, r0
 307 0136 5A32     		adds	r2, r2, #90
 308 0138 1300     		movs	r3, r2
 309              	.LVL28:
  32:Src/PID352.c  ****         // SERIAL_WRITE("PS: %u\n", PS);
 310              		.loc 1 32 9 is_stmt 1 view .LVU60
  32:Src/PID352.c  ****         // SERIAL_WRITE("PS: %u\n", PS);
 311              		.loc 1 32 29 is_stmt 0 view .LVU61
 312 013a 7F43     		muls	r7, r7
 313              	.LVL29:
  32:Src/PID352.c  ****         // SERIAL_WRITE("PS: %u\n", PS);
 314              		.loc 1 32 47 view .LVU62
 315 013c 5343     		muls	r3, r2
  32:Src/PID352.c  ****         // SERIAL_WRITE("PS: %u\n", PS);
 316              		.loc 1 32 13 view .LVU63
 317 013e F818     		adds	r0, r7, r3
 318              	.LVL30:
  37:Src/PID352.c  ****         {
 319              		.loc 1 37 9 is_stmt 1 view .LVU64
  37:Src/PID352.c  ****         {
 320              		.loc 1 37 13 is_stmt 0 view .LVU65
 321 0140 C717     		asrs	r7, r0, #31
 322 0142 C219     		adds	r2, r0, r7
 323              	.LVL31:
  37:Src/PID352.c  ****         {
 324              		.loc 1 37 13 view .LVU66
 325 0144 7A40     		eors	r2, r7
  37:Src/PID352.c  ****         {
 326              		.loc 1 37 36 view .LVU67
 327 0146 A027     		movs	r7, #160
 328 0148 FF00     		lsls	r7, r7, #3
 329 014a EB19     		adds	r3, r5, r7
 330 014c 1B68     		ldr	r3, [r3]
  37:Src/PID352.c  ****         {
 331              		.loc 1 37 27 view .LVU68
 332 014e DD17     		asrs	r5, r3, #31
 333 0150 5B19     		adds	r3, r3, r5
 334 0152 6B40     		eors	r3, r5
  37:Src/PID352.c  ****         {
 335              		.loc 1 37 12 view .LVU69
 336 0154 9A42     		cmp	r2, r3
 337 0156 94DA     		bge	.L3
  39:Src/PID352.c  ****             State.PD3_PD4_MSE = MSE352;
 338              		.loc 1 39 13 is_stmt 1 view .LVU70
  39:Src/PID352.c  ****             State.PD3_PD4_MSE = MSE352;
 339              		.loc 1 39 34 is_stmt 0 view .LVU71
 340 0158 414B     		ldr	r3, .L14+12
 341 015a 474A     		ldr	r2, .L14+36
 342 015c 9C50     		str	r4, [r3, r2]
  40:Src/PID352.c  ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 343              		.loc 1 40 13 is_stmt 1 view .LVU72
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 9


  40:Src/PID352.c  ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 344              		.loc 1 40 31 is_stmt 0 view .LVU73
 345 015e BC46     		mov	ip, r7
 346 0160 6344     		add	r3, r3, ip
 347 0162 1860     		str	r0, [r3]
 348 0164 C017     		asrs	r0, r0, #31
 349              	.LVL32:
  40:Src/PID352.c  ****             State.PD3_Slope = prevPhase3 < Phase3 ? 1 : -1;
 350              		.loc 1 40 31 view .LVU74
 351 0166 5860     		str	r0, [r3, #4]
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 352              		.loc 1 41 13 is_stmt 1 view .LVU75
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 353              		.loc 1 41 55 is_stmt 0 view .LVU76
 354 0168 049B     		ldr	r3, [sp, #16]
 355              	.LVL33:
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 356              		.loc 1 41 55 view .LVU77
 357 016a 4345     		cmp	r3, r8
 358 016c 06DC     		bgt	.L11
 359 016e 00D0     		beq	.LCB282
 360 0170 77E7     		b	.L9	@long jump
 361              	.LCB282:
 362 0172 0898     		ldr	r0, [sp, #32]
 363 0174 069B     		ldr	r3, [sp, #24]
 364 0176 9842     		cmp	r0, r3
 365 0178 00D8     		bhi	.LCB286
 366 017a 72E7     		b	.L9	@long jump
 367              	.LCB286:
 368              	.L11:
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 369              		.loc 1 41 55 view .LVU78
 370 017c 0123     		movs	r3, #1
 371              	.L4:
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 372              		.loc 1 41 29 discriminator 4 view .LVU79
 373 017e 3849     		ldr	r1, .L14+12
 374              	.LVL34:
  41:Src/PID352.c  ****             State.PD4_Slope = prevPhase4 < Phase4 ? 1 : -1;
 375              		.loc 1 41 29 discriminator 4 view .LVU80
 376 0180 3E4A     		ldr	r2, .L14+40
 377 0182 8B50     		str	r3, [r1, r2]
  42:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 378              		.loc 1 42 13 is_stmt 1 discriminator 4 view .LVU81
  42:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 379              		.loc 1 42 55 is_stmt 0 discriminator 4 view .LVU82
 380 0184 059A     		ldr	r2, [sp, #20]
 381 0186 5A45     		cmp	r2, fp
 382 0188 00DD     		ble	.LCB299
 383 018a 6DE7     		b	.L12	@long jump
 384              	.LCB299:
 385 018c 04D1     		bne	.L10
 386 018e 099A     		ldr	r2, [sp, #36]
 387 0190 0799     		ldr	r1, [sp, #28]
 388              	.LVL35:
  42:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 389              		.loc 1 42 55 discriminator 4 view .LVU83
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 10


 390 0192 8A42     		cmp	r2, r1
 391 0194 00D9     		bls	.LCB306
 392 0196 67E7     		b	.L12	@long jump
 393              	.LCB306:
 394              	.L10:
  42:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 395              		.loc 1 42 55 view .LVU84
 396 0198 0122     		movs	r2, #1
 397 019a 5242     		rsbs	r2, r2, #0
 398 019c 65E7     		b	.L6
 399              	.LVL36:
 400              	.L13:
  42:Src/PID352.c  ****             State.PD3_PD4_SetPoint = State.PD3_Slope * Phase3 + State.PD4_Slope * Phase4;
 401              		.loc 1 42 55 view .LVU85
 402              	.LBE6:
 403              	.LBE7:
 404              	.LBB8:
  47:Src/PID352.c  ****     }
  48:Src/PID352.c  ****     SERIAL_WRITE("\b\b\bPD3+PD4 SETPOINT: %i\n", State.PD3_PD4_SetPoint);
 405              		.loc 1 48 5 is_stmt 1 view .LVU86
 406 019e 0027     		movs	r7, #0
 407 01a0 0B97     		str	r7, [sp, #44]
 408 01a2 6022     		movs	r2, #96
 409 01a4 0021     		movs	r1, #0
 410 01a6 0CA8     		add	r0, sp, #48
 411 01a8 FFF7FEFF 		bl	memset
 412              	.LVL37:
 413              		.loc 1 48 5 view .LVU87
 414 01ac 2C4C     		ldr	r4, .L14+12
 415              	.LVL38:
 416              		.loc 1 48 5 is_stmt 0 view .LVU88
 417 01ae 9F23     		movs	r3, #159
 418 01b0 DB00     		lsls	r3, r3, #3
 419 01b2 E258     		ldr	r2, [r4, r3]
 420 01b4 3249     		ldr	r1, .L14+44
 421 01b6 0BA8     		add	r0, sp, #44
 422 01b8 FFF7FEFF 		bl	sprintf
 423              	.LVL39:
 424              		.loc 1 48 5 is_stmt 1 view .LVU89
 425 01bc FA26     		movs	r6, #250
 426 01be B600     		lsls	r6, r6, #2
 427 01c0 82B2     		uxth	r2, r0
 428 01c2 254D     		ldr	r5, .L14+4
 429 01c4 3300     		movs	r3, r6
 430 01c6 0BA9     		add	r1, sp, #44
 431 01c8 2800     		movs	r0, r5
 432              	.LVL40:
 433              		.loc 1 48 5 is_stmt 0 view .LVU90
 434 01ca FFF7FEFF 		bl	HAL_UART_Transmit
 435              	.LVL41:
 436              	.LBE8:
 437              		.loc 1 48 73 is_stmt 1 view .LVU91
 438              	.LBB9:
  49:Src/PID352.c  ****     SERIAL_WRITE("[CALIBRATION] PD3 SLOPE: %i\n", State.PD3_Slope);
 439              		.loc 1 49 5 view .LVU92
 440 01ce 0B97     		str	r7, [sp, #44]
 441 01d0 6022     		movs	r2, #96
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 11


 442 01d2 0021     		movs	r1, #0
 443 01d4 0CA8     		add	r0, sp, #48
 444 01d6 FFF7FEFF 		bl	memset
 445              	.LVL42:
 446              		.loc 1 49 5 view .LVU93
 447 01da 284B     		ldr	r3, .L14+40
 448 01dc E258     		ldr	r2, [r4, r3]
 449 01de 2949     		ldr	r1, .L14+48
 450 01e0 0BA8     		add	r0, sp, #44
 451 01e2 FFF7FEFF 		bl	sprintf
 452              	.LVL43:
 453              		.loc 1 49 5 view .LVU94
 454 01e6 82B2     		uxth	r2, r0
 455 01e8 3300     		movs	r3, r6
 456 01ea 0BA9     		add	r1, sp, #44
 457 01ec 2800     		movs	r0, r5
 458              	.LVL44:
 459              		.loc 1 49 5 is_stmt 0 view .LVU95
 460 01ee FFF7FEFF 		bl	HAL_UART_Transmit
 461              	.LVL45:
 462              	.LBE9:
 463              		.loc 1 49 67 is_stmt 1 view .LVU96
 464              	.LBB10:
  50:Src/PID352.c  ****     SERIAL_WRITE("[CALIBRATION] PD4 SLOPE: %i\n", State.PD4_Slope);
 465              		.loc 1 50 5 view .LVU97
 466 01f2 0B97     		str	r7, [sp, #44]
 467 01f4 6022     		movs	r2, #96
 468 01f6 0021     		movs	r1, #0
 469 01f8 0CA8     		add	r0, sp, #48
 470 01fa FFF7FEFF 		bl	memset
 471              	.LVL46:
 472              		.loc 1 50 5 view .LVU98
 473 01fe 9C23     		movs	r3, #156
 474 0200 DB00     		lsls	r3, r3, #3
 475 0202 E258     		ldr	r2, [r4, r3]
 476 0204 2049     		ldr	r1, .L14+52
 477 0206 0BA8     		add	r0, sp, #44
 478 0208 FFF7FEFF 		bl	sprintf
 479              	.LVL47:
 480              		.loc 1 50 5 view .LVU99
 481 020c 82B2     		uxth	r2, r0
 482 020e 3300     		movs	r3, r6
 483 0210 0BA9     		add	r1, sp, #44
 484 0212 2800     		movs	r0, r5
 485              	.LVL48:
 486              		.loc 1 50 5 is_stmt 0 view .LVU100
 487 0214 FFF7FEFF 		bl	HAL_UART_Transmit
 488              	.LVL49:
 489              	.LBE10:
 490              		.loc 1 50 67 is_stmt 1 view .LVU101
 491              	.LBB11:
  51:Src/PID352.c  ****     SERIAL_WRITE("[CALIBRATION] PS352 OFFSET: %i\n", State.PD3_PD4_Offset);
 492              		.loc 1 51 5 view .LVU102
 493 0218 0B97     		str	r7, [sp, #44]
 494 021a 6022     		movs	r2, #96
 495 021c 0021     		movs	r1, #0
 496 021e 0CA8     		add	r0, sp, #48
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 12


 497 0220 FFF7FEFF 		bl	memset
 498              	.LVL50:
 499              		.loc 1 51 5 view .LVU103
 500 0224 144F     		ldr	r7, .L14+36
 501 0226 E259     		ldr	r2, [r4, r7]
 502 0228 1849     		ldr	r1, .L14+56
 503 022a 0BA8     		add	r0, sp, #44
 504 022c FFF7FEFF 		bl	sprintf
 505              	.LVL51:
 506              		.loc 1 51 5 view .LVU104
 507 0230 82B2     		uxth	r2, r0
 508 0232 3300     		movs	r3, r6
 509 0234 0BA9     		add	r1, sp, #44
 510 0236 2800     		movs	r0, r5
 511              	.LVL52:
 512              		.loc 1 51 5 is_stmt 0 view .LVU105
 513 0238 FFF7FEFF 		bl	HAL_UART_Transmit
 514              	.LVL53:
 515              	.LBE11:
 516              		.loc 1 51 75 is_stmt 1 view .LVU106
  52:Src/PID352.c  ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + State.PD3_PD4_Offset);
 517              		.loc 1 52 5 view .LVU107
 518              		.loc 1 52 49 is_stmt 0 view .LVU108
 519 023c E059     		ldr	r0, [r4, r7]
 520              		.loc 1 52 42 view .LVU109
 521 023e A023     		movs	r3, #160
 522 0240 5B03     		lsls	r3, r3, #13
 523 0242 9C46     		mov	ip, r3
 524 0244 6044     		add	r0, r0, ip
 525              		.loc 1 52 5 view .LVU110
 526 0246 FFF7FEFF 		bl	DAC_cmd
 527              	.LVL54:
  53:Src/PID352.c  **** }
 528              		.loc 1 53 1 view .LVU111
 529 024a 25B0     		add	sp, sp, #148
 530              		@ sp needed
 531              	.LVL55:
 532              	.LVL56:
 533              		.loc 1 53 1 view .LVU112
 534 024c 0CBC     		pop	{r2, r3}
 535 024e 9046     		mov	r8, r2
 536 0250 9B46     		mov	fp, r3
 537 0252 F0BD     		pop	{r4, r5, r6, r7, pc}
 538              	.L15:
 539              		.align	2
 540              	.L14:
 541 0254 00000000 		.word	.LC0
 542 0258 00000000 		.word	huart2
 543 025c FF7F1500 		.word	1409023
 544 0260 00000000 		.word	State
 545 0264 006298C5 		.word	-979869184
 546 0268 FEFF0000 		.word	65534
 547 026c 40771B00 		.word	1800000
 548 0270 FFFFFF00 		.word	16777215
 549 0274 18FCFFFF 		.word	-1000
 550 0278 FC040000 		.word	1276
 551 027c DC040000 		.word	1244
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 13


 552 0280 14000000 		.word	.LC4
 553 0284 30000000 		.word	.LC6
 554 0288 50000000 		.word	.LC8
 555 028c 70000000 		.word	.LC10
 556              		.cfi_endproc
 557              	.LFE284:
 559              		.section	.text.PID352_Init,"ax",%progbits
 560              		.align	1
 561              		.global	PID352_Init
 562              		.syntax unified
 563              		.code	16
 564              		.thumb_func
 565              		.fpu softvfp
 567              	PID352_Init:
 568              	.LFB285:
  54:Src/PID352.c  **** 
  55:Src/PID352.c  **** void PID352_Init()
  56:Src/PID352.c  **** {
 569              		.loc 1 56 1 is_stmt 1 view -0
 570              		.cfi_startproc
 571              		@ args = 0, pretend = 0, frame = 0
 572              		@ frame_needed = 0, uses_anonymous_args = 0
 573              		@ link register save eliminated.
  57:Src/PID352.c  ****     State.PID_352_Output_Fine = 0x7fff;
 574              		.loc 1 57 5 view .LVU114
 575              		.loc 1 57 31 is_stmt 0 view .LVU115
 576 0000 084B     		ldr	r3, .L17
 577 0002 A122     		movs	r2, #161
 578 0004 D200     		lsls	r2, r2, #3
 579 0006 0849     		ldr	r1, .L17+4
 580 0008 9950     		str	r1, [r3, r2]
  58:Src/PID352.c  ****     State.PID_352_Output_Coarse = State.PD3_PD4_Offset;
 581              		.loc 1 58 5 is_stmt 1 view .LVU116
 582              		.loc 1 58 40 is_stmt 0 view .LVU117
 583 000a 084A     		ldr	r2, .L17+8
 584 000c 9958     		ldr	r1, [r3, r2]
 585              		.loc 1 58 33 view .LVU118
 586 000e 084A     		ldr	r2, .L17+12
 587 0010 9950     		str	r1, [r3, r2]
  59:Src/PID352.c  ****     State.PID_352_P_error = 0;
 588              		.loc 1 59 5 is_stmt 1 view .LVU119
 589              		.loc 1 59 27 is_stmt 0 view .LVU120
 590 0012 0022     		movs	r2, #0
 591 0014 A221     		movs	r1, #162
 592 0016 C900     		lsls	r1, r1, #3
 593 0018 5A50     		str	r2, [r3, r1]
  60:Src/PID352.c  ****     State.PID_352_I_error = 0;
 594              		.loc 1 60 5 is_stmt 1 view .LVU121
 595              		.loc 1 60 27 is_stmt 0 view .LVU122
 596 001a 0649     		ldr	r1, .L17+16
 597 001c 5A50     		str	r2, [r3, r1]
  61:Src/PID352.c  ****     State.PID_352_LOCK = 0;
 598              		.loc 1 61 5 is_stmt 1 view .LVU123
 599              		.loc 1 61 24 is_stmt 0 view .LVU124
 600 001e 0431     		adds	r1, r1, #4
 601 0020 5A50     		str	r2, [r3, r1]
  62:Src/PID352.c  **** };
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 14


 602              		.loc 1 62 1 view .LVU125
 603              		@ sp needed
 604 0022 7047     		bx	lr
 605              	.L18:
 606              		.align	2
 607              	.L17:
 608 0024 00000000 		.word	State
 609 0028 FF7F0000 		.word	32767
 610 002c FC040000 		.word	1276
 611 0030 0C050000 		.word	1292
 612 0034 14050000 		.word	1300
 613              		.cfi_endproc
 614              	.LFE285:
 616              		.global	__aeabi_idiv
 617              		.section	.text.PID352,"ax",%progbits
 618              		.align	1
 619              		.global	PID352
 620              		.syntax unified
 621              		.code	16
 622              		.thumb_func
 623              		.fpu softvfp
 625              	PID352:
 626              	.LFB286:
  63:Src/PID352.c  **** 
  64:Src/PID352.c  **** void PID352()
  65:Src/PID352.c  **** {
 627              		.loc 1 65 1 is_stmt 1 view -0
 628              		.cfi_startproc
 629              		@ args = 0, pretend = 0, frame = 0
 630              		@ frame_needed = 0, uses_anonymous_args = 0
 631 0000 70B5     		push	{r4, r5, r6, lr}
 632              	.LCFI3:
 633              		.cfi_def_cfa_offset 16
 634              		.cfi_offset 4, -16
 635              		.cfi_offset 5, -12
 636              		.cfi_offset 6, -8
 637              		.cfi_offset 14, -4
  66:Src/PID352.c  **** 
  67:Src/PID352.c  ****     State.PID_352_P_error = (State.PD3_Slope * Phase_u(ADC_PD3_Phase_CH)) + (State.PD4_Slope * Phas
 638              		.loc 1 67 5 view .LVU127
 639              		.loc 1 67 35 is_stmt 0 view .LVU128
 640 0002 294C     		ldr	r4, .L24
 641 0004 294B     		ldr	r3, .L24+4
 642 0006 E558     		ldr	r5, [r4, r3]
 643              		.loc 1 67 48 view .LVU129
 644 0008 0E20     		movs	r0, #14
 645 000a FFF7FEFF 		bl	Phase_u
 646              	.LVL57:
 647              		.loc 1 67 75 view .LVU130
 648 000e 4543     		muls	r5, r0
 649              		.loc 1 67 83 view .LVU131
 650 0010 9C23     		movs	r3, #156
 651 0012 DB00     		lsls	r3, r3, #3
 652 0014 E658     		ldr	r6, [r4, r3]
 653              		.loc 1 67 96 view .LVU132
 654 0016 0220     		movs	r0, #2
 655 0018 FFF7FEFF 		bl	Phase_u
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 15


 656              	.LVL58:
 657              		.loc 1 67 75 view .LVU133
 658 001c 7043     		muls	r0, r6
 659 001e 4519     		adds	r5, r0, r5
 660              		.loc 1 67 131 view .LVU134
 661 0020 9F22     		movs	r2, #159
 662 0022 D200     		lsls	r2, r2, #3
 663 0024 A158     		ldr	r1, [r4, r2]
 664              		.loc 1 67 149 view .LVU135
 665 0026 4801     		lsls	r0, r1, #5
 666 0028 401A     		subs	r0, r0, r1
 667 002a 8000     		lsls	r0, r0, #2
 668 002c 4018     		adds	r0, r0, r1
 669 002e C000     		lsls	r0, r0, #3
 670              		.loc 1 67 123 view .LVU136
 671 0030 281A     		subs	r0, r5, r0
 672              		.loc 1 67 27 view .LVU137
 673 0032 A223     		movs	r3, #162
 674 0034 DB00     		lsls	r3, r3, #3
 675 0036 E050     		str	r0, [r4, r3]
  68:Src/PID352.c  ****     State.PID_352_I_error = State.PID_352_I_error + State.PID_352_P_error;
 676              		.loc 1 68 5 is_stmt 1 view .LVU138
 677              		.loc 1 68 34 is_stmt 0 view .LVU139
 678 0038 1D4A     		ldr	r2, .L24+8
 679              		.loc 1 68 51 view .LVU140
 680 003a A358     		ldr	r3, [r4, r2]
 681 003c C318     		adds	r3, r0, r3
 682              		.loc 1 68 27 view .LVU141
 683 003e A350     		str	r3, [r4, r2]
  69:Src/PID352.c  **** 
  70:Src/PID352.c  ****     int sat = State.PID_352_Output_Fine - State.PID_352_P_error / 1000;
 684              		.loc 1 70 5 is_stmt 1 view .LVU142
 685              		.loc 1 70 20 is_stmt 0 view .LVU143
 686 0040 A123     		movs	r3, #161
 687 0042 DB00     		lsls	r3, r3, #3
 688 0044 E458     		ldr	r4, [r4, r3]
 689              		.loc 1 70 65 view .LVU144
 690 0046 1B49     		ldr	r1, .L24+12
 691 0048 FFF7FEFF 		bl	__aeabi_idiv
 692              	.LVL59:
 693              		.loc 1 70 9 view .LVU145
 694 004c 2018     		adds	r0, r4, r0
 695              	.LVL60:
  71:Src/PID352.c  **** 
  72:Src/PID352.c  ****     sat = abs(sat);
 696              		.loc 1 72 5 is_stmt 1 view .LVU146
 697              		.loc 1 72 9 is_stmt 0 view .LVU147
 698 004e C317     		asrs	r3, r0, #31
 699 0050 C018     		adds	r0, r0, r3
 700              	.LVL61:
 701              		.loc 1 72 9 view .LVU148
 702 0052 5840     		eors	r0, r3
 703              	.LVL62:
  73:Src/PID352.c  **** 
  74:Src/PID352.c  ****     if (sat > 0xffff)
 704              		.loc 1 74 5 is_stmt 1 view .LVU149
 705              		.loc 1 74 8 is_stmt 0 view .LVU150
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 16


 706 0054 8023     		movs	r3, #128
 707 0056 5B02     		lsls	r3, r3, #9
 708 0058 9842     		cmp	r0, r3
 709 005a 00DB     		blt	.L20
  75:Src/PID352.c  ****     {
  76:Src/PID352.c  ****         sat = 0xffff;
 710              		.loc 1 76 13 view .LVU151
 711 005c 1648     		ldr	r0, .L24+16
 712              	.LVL63:
 713              	.L20:
  77:Src/PID352.c  ****     }
  78:Src/PID352.c  ****     else if (sat < 0)
  79:Src/PID352.c  ****     {
  80:Src/PID352.c  ****         sat = 0;
  81:Src/PID352.c  ****     }
  82:Src/PID352.c  **** 
  83:Src/PID352.c  ****     State.PID_352_Output_Fine = sat;
 714              		.loc 1 83 5 is_stmt 1 view .LVU152
 715              		.loc 1 83 31 is_stmt 0 view .LVU153
 716 005e 124D     		ldr	r5, .L24
 717 0060 A123     		movs	r3, #161
 718 0062 DB00     		lsls	r3, r3, #3
 719 0064 E850     		str	r0, [r5, r3]
  84:Src/PID352.c  ****     DAC_cmd(RF_PS_352_FINE + DAC_WRITE + State.PID_352_Output_Fine);
 720              		.loc 1 84 5 is_stmt 1 view .LVU154
 721              		.loc 1 84 40 is_stmt 0 view .LVU155
 722 0066 A823     		movs	r3, #168
 723 0068 5B03     		lsls	r3, r3, #13
 724 006a 9C46     		mov	ip, r3
 725 006c 6044     		add	r0, r0, ip
 726              	.LVL64:
 727              		.loc 1 84 5 view .LVU156
 728 006e FFF7FEFF 		bl	DAC_cmd
 729              	.LVL65:
  85:Src/PID352.c  **** 
  86:Src/PID352.c  ****     sat = State.PID_352_Output_Coarse - State.PID_352_I_error / 100000;
 730              		.loc 1 86 5 is_stmt 1 view .LVU157
 731              		.loc 1 86 16 is_stmt 0 view .LVU158
 732 0072 124B     		ldr	r3, .L24+20
 733 0074 EC58     		ldr	r4, [r5, r3]
 734              		.loc 1 86 46 view .LVU159
 735 0076 0E4B     		ldr	r3, .L24+8
 736 0078 E858     		ldr	r0, [r5, r3]
 737              		.loc 1 86 63 view .LVU160
 738 007a 1149     		ldr	r1, .L24+24
 739 007c FFF7FEFF 		bl	__aeabi_idiv
 740              	.LVL66:
 741              		.loc 1 86 9 view .LVU161
 742 0080 2018     		adds	r0, r4, r0
 743              	.LVL67:
  87:Src/PID352.c  **** 
  88:Src/PID352.c  ****     if (sat > 0xffff)
 744              		.loc 1 88 5 is_stmt 1 view .LVU162
 745              		.loc 1 88 8 is_stmt 0 view .LVU163
 746 0082 8023     		movs	r3, #128
 747 0084 5B02     		lsls	r3, r3, #9
 748 0086 9842     		cmp	r0, r3
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 17


 749 0088 03DA     		bge	.L22
  89:Src/PID352.c  ****     {
  90:Src/PID352.c  ****         sat = 0xffff;
  91:Src/PID352.c  ****     }
  92:Src/PID352.c  ****     else if (sat < 0)
 750              		.loc 1 92 10 is_stmt 1 view .LVU164
 751              		.loc 1 92 13 is_stmt 0 view .LVU165
 752 008a 0028     		cmp	r0, #0
 753 008c 02DA     		bge	.L21
  93:Src/PID352.c  ****     {
  94:Src/PID352.c  ****         sat = 0;
 754              		.loc 1 94 13 view .LVU166
 755 008e 0020     		movs	r0, #0
 756              	.LVL68:
 757              		.loc 1 94 13 view .LVU167
 758 0090 00E0     		b	.L21
 759              	.LVL69:
 760              	.L22:
  90:Src/PID352.c  ****     }
 761              		.loc 1 90 13 view .LVU168
 762 0092 0948     		ldr	r0, .L24+16
 763              	.LVL70:
 764              	.L21:
  95:Src/PID352.c  ****     }
  96:Src/PID352.c  ****     State.PID_352_Output_Coarse = sat;
 765              		.loc 1 96 5 is_stmt 1 view .LVU169
 766              		.loc 1 96 33 is_stmt 0 view .LVU170
 767 0094 044A     		ldr	r2, .L24
 768 0096 094B     		ldr	r3, .L24+20
 769 0098 D050     		str	r0, [r2, r3]
  97:Src/PID352.c  ****     DAC_cmd(RF_PS_352_OFFSET + DAC_WRITE + State.PID_352_Output_Coarse);
 770              		.loc 1 97 5 is_stmt 1 view .LVU171
 771              		.loc 1 97 42 is_stmt 0 view .LVU172
 772 009a A023     		movs	r3, #160
 773 009c 5B03     		lsls	r3, r3, #13
 774 009e 9C46     		mov	ip, r3
 775 00a0 6044     		add	r0, r0, ip
 776              	.LVL71:
 777              		.loc 1 97 5 view .LVU173
 778 00a2 FFF7FEFF 		bl	DAC_cmd
 779              	.LVL72:
  98:Src/PID352.c  **** };
 780              		.loc 1 98 1 view .LVU174
 781              		@ sp needed
 782 00a6 70BD     		pop	{r4, r5, r6, pc}
 783              	.L25:
 784              		.align	2
 785              	.L24:
 786 00a8 00000000 		.word	State
 787 00ac DC040000 		.word	1244
 788 00b0 14050000 		.word	1300
 789 00b4 18FCFFFF 		.word	-1000
 790 00b8 FFFF0000 		.word	65535
 791 00bc 0C050000 		.word	1292
 792 00c0 6079FEFF 		.word	-100000
 793              		.cfi_endproc
 794              	.LFE286:
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 18


 796              		.text
 797              	.Letext0:
 798              		.file 2 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\machine\\_default_types.h"
 799              		.file 3 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_stdint.h"
 800              		.file 4 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/system_stm32g0xx.h"
 801              		.file 5 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g071xx.h"
 802              		.file 6 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 803              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 804              		.file 8 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_flash.h"
 805              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_spi.h"
 806              		.file 10 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_tim.h"
 807              		.file 11 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_uart.h"
 808              		.file 12 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
 809              		.file 13 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\lock.h"
 810              		.file 14 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\_types.h"
 811              		.file 15 "c:\\gnu tools arm embedded\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 812              		.file 16 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\sys\\reent.h"
 813              		.file 17 "Inc/usart.h"
 814              		.file 18 "Inc/state.h"
 815              		.file 19 "Inc/spi.h"
 816              		.file 20 "Inc/tim.h"
 817              		.file 21 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\stdlib.h"
 818              		.file 22 "Inc/values.h"
 819              		.file 23 "Inc/DAC.h"
 820              		.file 24 "c:\\gnu tools arm embedded\\arm-none-eabi\\include\\stdio.h"
 821              		.file 25 "<built-in>"
ARM GAS  C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 PID352.c
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:16     .rodata.Calib352.str1.4:00000000 $d
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:35     .text.Calib352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:43     .text.Calib352:00000000 Calib352
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:541    .text.Calib352:00000254 $d
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:560    .text.PID352_Init:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:567    .text.PID352_Init:00000000 PID352_Init
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:608    .text.PID352_Init:00000024 $d
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:618    .text.PID352:00000000 $t
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:625    .text.PID352:00000000 PID352
C:\Users\matil\AppData\Local\Temp\ccjQXSvl.s:786    .text.PID352:000000a8 $d

UNDEFINED SYMBOLS
__aeabi_lmul
__aeabi_uldivmod
__aeabi_ldivmod
memset
HAL_UART_Transmit
DAC_cmd
HAL_Delay
sprintf
huart2
State
__aeabi_idiv
Phase_u
